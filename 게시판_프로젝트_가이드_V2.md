# í†µí•© JSP í”„ë¡œì íŠ¸ ê°€ì´ë“œ (ë¡œê·¸ì¸ + ê²Œì‹œíŒ + ê´€ë¦¬ì)

> [!NOTE]
> **ë¬¸ì„œ ì—­í•  ì•ˆë‚´**
> 
> ì´ ë¬¸ì„œëŠ” **ê¸°ìˆ  êµ¬í˜„ ë°©ë²•**ì— ì§‘ì¤‘í•©ë‹ˆë‹¤ (íŒ¨í„´, ì•„í‚¤í…ì²˜, ì½”ë“œ ì˜ˆì‹œ).
> 
> **Git í˜‘ì—…, ë¸Œëœì¹˜ ì „ëµ, Pull Request** ë“±ì€ **`íŒ€ì›ë³„_ë¸Œëœì¹˜_ì‘ì—…_ê°€ì´ë“œ.md`** íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ê¸°ë°˜ í”„ë¡œì íŠ¸
- **web-study-09**: íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ (ë¡œê·¸ì¸, íšŒì›ê°€ì…, íšŒì›ì •ë³´ ìˆ˜ì •)
- **web-study-10**: ìƒí’ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ (CRUD ê¸°ëŠ¥)
- **web-study-11**: ê²Œì‹œíŒ ì‹œìŠ¤í…œ (ëª©ë¡, ì‘ì„±, ìƒì„¸ë³´ê¸°, ìˆ˜ì •, ì‚­ì œ)
  - âš ï¸ **í†µí•© ì‹œ ì£¼ì˜**: web-study-11ì€ ë…ë¦½í˜• ê²Œì‹œíŒ (ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜)
  - ì‹¤ì œ êµ¬í˜„ëœ Action í´ë˜ìŠ¤: `BoardListAction`, `BoardWriteFormAction`, `BoardWriteAction`, `BoardViewAction`, `BoardCheckPassFormAction`, `BoardCheckPassAction`, `BoardUpdateFormAction`, `BoardUpdateAction`, `BoardDeleteAction`
  - í†µí•© í”„ë¡œì íŠ¸ì—ì„œëŠ” íšŒì› ì—°ë™í˜•ìœ¼ë¡œ ë³€í™˜ í•„ìš” (`writer` í•„ë“œë¡œ ë³€ê²½, ë¹„ë°€ë²ˆí˜¸ ëŒ€ì‹  ì„¸ì…˜ ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬)

### í†µí•© ëª©í‘œ
ì„¸ ê°œì˜ í•™ìŠµ í”„ë¡œì íŠ¸ë¥¼ í†µí•©í•˜ì—¬ **ë¡œê·¸ì¸, ê²Œì‹œíŒ, ê´€ë¦¬ì í˜ì´ì§€ê°€ ì—°ë™ë˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥
1. **ì¸ì¦ ì‹œìŠ¤í…œ**: íšŒì›ê°€ì… (ì¼ë°˜/ê´€ë¦¬ì), ë¡œê·¸ì¸, ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦
2. **ê¶Œí•œ ê´€ë¦¬**: ì¼ë°˜ íšŒì›(MEMBER)ê³¼ ê´€ë¦¬ì(ADMIN) êµ¬ë¶„
3. **ì—­í• ë³„ ì ‘ê·¼**:
   - ê´€ë¦¬ì íšŒì›ê°€ì…: ê´€ë¦¬ì ì¸ì¦ ì½”ë“œ í•„ìš”
   - ê´€ë¦¬ì ë¡œê·¸ì¸ â†’ ê´€ë¦¬ì í˜ì´ì§€(ê²Œì‹œíŒ ê´€ë¦¬)ë¡œ ì´ë™
   - ì¼ë°˜íšŒì› ë¡œê·¸ì¸ â†’ ê²Œì‹œíŒìœ¼ë¡œ ì´ë™
4. **ê²Œì‹œíŒ ê¶Œí•œ**:
   - ì¼ë°˜ íšŒì›: ìê¸°ê°€ ì“´ ê¸€ë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
   - ê´€ë¦¬ì: **ëª¨ë“  ê¸€ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥** (ê²Œì‹œíŒ ê´€ë¦¬)
5. **ê´€ë¦¬ì ê¸°ëŠ¥**: íšŒì› ê´€ë¦¬, **ì „ì²´ ê²Œì‹œíŒ ê´€ë¦¬**

---

## ğŸ“ í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° (Front Controller íŒ¨í„´)

> [!IMPORTANT]
> **web-study-11ì˜ ë°œì „ëœ íŒ¨í„´ ì ìš©**
> 
> ì´ í”„ë¡œì íŠ¸ëŠ” **web-study-11**ì—ì„œ í•™ìŠµí•œ **Front Controller íŒ¨í„´**ì„ ì „ì²´ì— ì ìš©í•©ë‹ˆë‹¤.
> - **í•˜ë‚˜ì˜ Servlet**ìœ¼ë¡œ ëª¨ë“  ìš”ì²­ ì²˜ë¦¬ (ê° ê¸°ëŠ¥ë³„: MemberServlet, BoardServlet, AdminServlet)
> - **ActionFactory**ë¡œ commandì— ë”°ë¼ ì ì ˆí•œ Action ì‹¤í–‰
> - **Action ì¸í„°í˜ì´ìŠ¤**ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë“¤ì´ ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬

```
board-project/                    # í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë”
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â”œâ”€â”€ com/
â”‚       â”‚   â”‚   â””â”€â”€ saeyan/           # íŒ¨í‚¤ì§€ëª… (ê¸°ì¡´ í•™ìŠµê³¼ ë™ì¼)
â”‚       â”‚   â”‚       â”‚
â”‚       â”‚   â”‚       â”œâ”€â”€ controller/   # ğŸ“Œ Front Controller Servletë“¤
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ MemberServlet.java      # íšŒì› ê´€ë ¨ ëª¨ë“  ìš”ì²­ ì²˜ë¦¬
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ BoardServlet.java       # ê²Œì‹œíŒ ê´€ë ¨ ëª¨ë“  ìš”ì²­ ì²˜ë¦¬
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ AdminServlet.java       # ê´€ë¦¬ì ê´€ë ¨ ëª¨ë“  ìš”ì²­ ì²˜ë¦¬
â”‚       â”‚   â”‚       â”‚   â”‚
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ ActionFactory.java      # â­ Action ìƒì„± íŒ©í† ë¦¬ (web-study-11 íŒ¨í„´)
â”‚       â”‚   â”‚       â”‚   â”‚
â”‚       â”‚   â”‚       â”‚   â””â”€â”€ action/                 # ğŸ“‚ Action êµ¬í˜„ í´ë˜ìŠ¤ë“¤
â”‚       â”‚   â”‚       â”‚       â”œâ”€â”€ Action.java         # Action ì¸í„°í˜ì´ìŠ¤
â”‚       â”‚   â”‚       â”‚       â”‚
â”‚       â”‚   â”‚       â”‚       â”œâ”€â”€ member/             # íšŒì› ê´€ë ¨ Action
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ LoginAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ LoginFormAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ LogoutAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ JoinAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ JoinFormAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â””â”€â”€ UpdateAction.java
â”‚       â”‚   â”‚       â”‚       â”‚
â”‚       â”‚   â”‚       â”‚       â”œâ”€â”€ board/              # ê²Œì‹œíŒ ê´€ë ¨ Action
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ BoardListAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ BoardViewAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ BoardWriteFormAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ BoardWriteAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ BoardUpdateFormAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ BoardUpdateAction.java
â”‚       â”‚   â”‚       â”‚       â”‚   â””â”€â”€ BoardDeleteAction.java
â”‚       â”‚   â”‚       â”‚       â”‚
â”‚       â”‚   â”‚       â”‚       â””â”€â”€ admin/              # ê´€ë¦¬ì ê´€ë ¨ Action
â”‚       â”‚   â”‚       â”‚           â”œâ”€â”€ AdminMainAction.java
â”‚       â”‚   â”‚       â”‚           â”œâ”€â”€ MemberListAction.java
â”‚       â”‚   â”‚       â”‚           â”œâ”€â”€ MemberDetailAction.java
â”‚       â”‚   â”‚       â”‚           â”œâ”€â”€ BoardManageListAction.java
â”‚       â”‚   â”‚       â”‚           â”œâ”€â”€ BoardManageDeleteAction.java
â”‚       â”‚   â”‚       â”‚           â””â”€â”€ BoardManageUpdateAction.java
â”‚       â”‚   â”‚       â”‚
â”‚       â”‚   â”‚       â”œâ”€â”€ dao/          # DAO (Data Access Object)
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ MemberDAO.java
â”‚       â”‚   â”‚       â”‚   â””â”€â”€ BoardDAO.java
â”‚       â”‚   â”‚       â”‚
â”‚       â”‚   â”‚       â””â”€â”€ dto/          # VO (Value Object)
â”‚       â”‚   â”‚           â”œâ”€â”€ MemberVO.java
â”‚       â”‚   â”‚           â””â”€â”€ BoardVO.java
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ util/                 # ìœ í‹¸ë¦¬í‹°
â”‚       â”‚       â””â”€â”€ DBManager.java    # DB ì—°ê²° ê´€ë¦¬ (web-study-10, 11ê³¼ ë™ì¼)
â”‚       â”‚
â”‚       â””â”€â”€ webapp/
â”‚           â”œâ”€â”€ WEB-INF/
â”‚           â”‚   â”œâ”€â”€ web.xml          # ì„œë¸”ë¦¿ ë§¤í•‘ ì„¤ì •
â”‚           â”‚   â””â”€â”€ lib/              # ë¼ì´ë¸ŒëŸ¬ë¦¬ (ojdbc ë“±)
â”‚           â”‚
â”‚           â”œâ”€â”€ index.jsp             # ë©”ì¸ í˜ì´ì§€
â”‚           â”‚
â”‚           â”œâ”€â”€ member/               # ğŸ‘¤ íšŒì› ê´€ë ¨ JSP
â”‚           â”‚   â”œâ”€â”€ login.jsp         # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚           â”‚   â”œâ”€â”€ join.jsp          # íšŒì›ê°€ì… í˜ì´ì§€
â”‚           â”‚   â”œâ”€â”€ idCheck.jsp       # ID ì¤‘ë³µ ì²´í¬
â”‚           â”‚   â”œâ”€â”€ main.jsp          # íšŒì› ë©”ì¸ (ë¡œê·¸ì¸ í›„)
â”‚           â”‚   â””â”€â”€ memberUpdate.jsp  # íšŒì›ì •ë³´ ìˆ˜ì •
â”‚           â”‚
â”‚           â”œâ”€â”€ board/                # ğŸ“ ê²Œì‹œíŒ JSP (web-study-11 êµ¬ì¡°)
â”‚           â”‚   â”œâ”€â”€ boardList.jsp     # ê²Œì‹œê¸€ ëª©ë¡
â”‚           â”‚   â”œâ”€â”€ boardWrite.jsp    # ê²Œì‹œê¸€ ì‘ì„± í¼
â”‚           â”‚   â”œâ”€â”€ boardView.jsp     # ê²Œì‹œê¸€ ìƒì„¸ë³´ê¸°
â”‚           â”‚   â””â”€â”€ boardUpdate.jsp   # ê²Œì‹œê¸€ ìˆ˜ì • í¼
â”‚           â”‚
â”‚           â”œâ”€â”€ admin/                # ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì í˜ì´ì§€
â”‚           â”‚   â”œâ”€â”€ adminMain.jsp     # ê´€ë¦¬ì ë©”ì¸ (ëŒ€ì‹œë³´ë“œ)
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ member/           # íšŒì› ê´€ë¦¬
â”‚           â”‚   â”‚   â”œâ”€â”€ memberList.jsp
â”‚           â”‚   â”‚   â””â”€â”€ memberDetail.jsp
â”‚           â”‚   â”‚
â”‚           â”‚   â””â”€â”€ board/            # ê²Œì‹œíŒ ê´€ë¦¬
â”‚           â”‚       â”œâ”€â”€ boardManage.jsp      # ì „ì²´ ê²Œì‹œê¸€ ê´€ë¦¬
â”‚           â”‚       â””â”€â”€ boardManageDelete.jsp
â”‚           â”‚
â”‚           â”œâ”€â”€ css/                  # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚           â”‚   â””â”€â”€ style.css
â”‚           â”‚
â”‚           â””â”€â”€ script/               # ìë°”ìŠ¤í¬ë¦½íŠ¸
â”‚               â””â”€â”€ common.js
```

### ğŸ¯ Front Controller íŒ¨í„´ì˜ ì¥ì 

| ì „í†µì ì¸ ë°©ì‹ | Front Controller íŒ¨í„´ |
|-------------|----------------------|
| ê° ê¸°ëŠ¥ë§ˆë‹¤ ë³„ë„ Servlet ìƒì„± | **í•˜ë‚˜ì˜ Servlet**ìœ¼ë¡œ ê´€ë ¨ ê¸°ëŠ¥ í†µí•© |
| Servletì´ ë§ì•„ì§€ë©´ ê´€ë¦¬ ì–´ë ¤ì›€ | ActionFactoryë¡œ **ì¤‘ì•™ ì§‘ì¤‘ ê´€ë¦¬** |
| web.xml ì„¤ì •ì´ ë³µì¡í•´ì§ | web.xml ì„¤ì • **ê°„ì†Œí™”** |
| ì½”ë“œ ì¤‘ë³µ ê°€ëŠ¥ì„± ë†’ìŒ | Action ì¸í„°í˜ì´ìŠ¤ë¡œ **í‘œì¤€í™”** |

### ğŸ“Œ ê¸°ì¡´ í•™ìŠµ í”„ë¡œì íŠ¸ì™€ì˜ ì—°ê²°

| ê¸°ëŠ¥ | ì°¸ê³  í”„ë¡œì íŠ¸ | ì£¼ìš” íŒ¨í„´ |
|------|-------------|----------|
| **íšŒì› ê´€ë¦¬** | web-study-09 | MemberServlet + ActionFactory â†’ LoginAction, JoinAction |
| **ê²Œì‹œíŒ (ì¼ë°˜íšŒì›)** | web-study-11 | **BoardServlet + ActionFactory** (ì™„ì „ ë™ì¼ íŒ¨í„´) |
| **ê²Œì‹œíŒ ê´€ë¦¬ (ê´€ë¦¬ì)** | web-study-11 ì‘ìš© | AdminServlet + ActionFactory â†’ BoardManageAction ë“± |
| **DB ì—°ê²°** | web-study-10, 11 | `util/DBManager.java` |

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (Front Controller íŒ¨í„´)

```mermaid
graph TB
    subgraph "í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µ (JSP)"
        A[index.jsp]
        B[member/*.jsp]
        C[board/*.jsp]
        D[admin/*.jsp]
    end
    
    subgraph "ì»¨íŠ¸ë¡¤ëŸ¬ ê³„ì¸µ (Front Controller)"
        E[MemberServlet<br/>?command=xxx]
        F[BoardServlet<br/>?command=xxx]
        G[AdminServlet<br/>?command=xxx]
        H[ActionFactory<br/>ì‹±ê¸€í†¤]
    end
    
    subgraph "ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì¸µ (Action)"
        I[LoginAction<br/>JoinAction<br/>etc]
        J[BoardListAction<br/>BoardWriteAction<br/>etc]
        K[BoardManageAction<br/>MemberListAction<br/>etc]
    end
    
    subgraph "ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ (DAO)"
        L[MemberDAO]
        M[BoardDAO]
        O[DBManager]
    end
    
    subgraph "ë°ì´í„°ë² ì´ìŠ¤"
        N[(members)]
        P[(board)]
    end
    
    A --> B
    A --> C
    A --> D
    
    B --> E
    C --> F
    D --> G
    
    E --> H
    F --> H
    G --> H
    
    H --> I
    H --> J
    H --> K
    
    I --> L
    J --> M
    K --> L
    K --> M
    
    L --> O
    M --> O
    
    O --> N
    O --> P
    
    style E fill:#fff3e0
    style F fill:#fff3e0
    style G fill:#fff3e0
    style H fill:#ffeb3b
    style I fill:#e8f5e9
    style J fill:#e8f5e9
    style K fill:#e8f5e9
```

### ğŸ“ Front Controller íë¦„ë„

```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì
    participant JSP as JSP í˜ì´ì§€
    participant Servlet as Front Controller<br/>(BoardServlet)
    participant Factory as ActionFactory
    participant Action as BoardListAction
    participant DAO as BoardDAO
    participant DB as Database
    
    User->>JSP: ê²Œì‹œíŒ í´ë¦­
    JSP->>Servlet: BoardServlet?command=board_list
    Servlet->>Servlet: command íŒŒë¼ë¯¸í„° ì¶”ì¶œ
    Servlet->>Factory: getAction("board_list")
    Factory->>Action: new BoardListAction()
    Factory-->>Servlet: Action ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
    Servlet->>Action: execute(request, response)
    Action->>DAO: selectAllBoards()
    DAO->>DB: SELECT * FROM board
    DB-->>DAO: ResultSet
    DAO-->>Action: List<BoardVO>
    Action->>Action: request.setAttribute("list", boardList)
    Action->>JSP: forward to boardList.jsp
    JSP-->>User: ê²Œì‹œíŒ ëª©ë¡ í™”ë©´ í‘œì‹œ
```

---
### ğŸ” URL íŒ¨í„´ ì˜ˆì‹œ

Front Controller íŒ¨í„´ì—ì„œëŠ” **command íŒŒë¼ë¯¸í„°**ë¡œ ì–´ë–¤ ì‘ì—…ì„ í• ì§€ ê²°ì •í•©ë‹ˆë‹¤:

| ê¸°ëŠ¥ | URL ì˜ˆì‹œ |
|------|----------|
| ë¡œê·¸ì¸ í¼ | `/MemberServlet?command=login_form` |
| ë¡œê·¸ì¸ ì²˜ë¦¬ | `/MemberServlet?command=login` (POST) |
| íšŒì›ê°€ì… í¼ | `/MemberServlet?command=join_form` |
| íšŒì›ê°€ì… ì²˜ë¦¬ | `/MemberServlet?command=join` (POST) |
| ê²Œì‹œíŒ ëª©ë¡ | `/BoardServlet?command=board_list` |
| ê²Œì‹œê¸€ ì‘ì„± í¼ | `/BoardServlet?command=board_write_form` |
| ê²Œì‹œê¸€ ì‘ì„± ì²˜ë¦¬ | `/BoardServlet?command=board_write` (POST) |
| ê²Œì‹œê¸€ ìƒì„¸ | `/BoardServlet?command=board_view&seq=1` |
| ê´€ë¦¬ì ë©”ì¸ | `/AdminServlet?command=admin_main` |
| ì „ì²´ ê²Œì‹œê¸€ ê´€ë¦¬ | `/AdminServlet?command=board_manage_list` |
| íšŒì› ëª©ë¡ | `/AdminServlet?command=member_list` |

---

## ğŸ”„ ì‚¬ìš©ì í”Œë¡œìš°

### ë¡œê·¸ì¸ ë° ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ í”Œë¡œìš°

```mermaid
flowchart TD
    Start([ì‚¬ìš©ì ì ‘ì†]) --> Index[index.jsp]
    Index --> Login[auth/login.jsp]
    
    Login --> LoginProcess{ë¡œê·¸ì¸ ì²˜ë¦¬}
    LoginProcess -->|ì‹¤íŒ¨| Login
    
    LoginProcess -->|ì„±ê³µ| SetSession[ì„¸ì…˜ ì„¤ì •<br/>userId, userName, userRole]
    
    SetSession --> CheckRole{ê¶Œí•œ í™•ì¸}
    
    CheckRole -->|ADMIN| AdminMain[admin/main.jsp<br/>ê´€ë¦¬ì í˜ì´ì§€]
    CheckRole -->|MEMBER| MemberMain[board/boardList.jsp<br/>ê²Œì‹œíŒ]
    
    AdminMain --> AdminFunc[ê´€ë¦¬ì ê¸°ëŠ¥]
    MemberMain --> Board[ê²Œì‹œíŒ ì´ìš©]
    
    AdminFunc --> MemberMgmt[íšŒì› ê´€ë¦¬]
    AdminFunc --> BoardMgmt[ê²Œì‹œíŒ ê´€ë¦¬<br/>ëª¨ë“  ê¸€ ê´€ë¦¬]
    
    Board --> MyPage[ë§ˆì´í˜ì´ì§€]
    
    MemberMgmt --> Logout[logout]
    BoardMgmt --> Logout
    MyPage --> Logout
    Board --> Logout
    
    Logout --> Index
    
    style Start fill:#e1f5ff
    style SetSession fill:#fff3e0
    style CheckRole fill:#ffeb3b
    style AdminMain fill:#ffebee
    style MemberMain fill:#e8f5e9
    style BoardMgmt fill:#ffcdd2
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ERD (Entity Relationship Diagram)

```mermaid
erDiagram
    MEMBERS ||--o{ BOARD : writes
    
    MEMBERS {
        varchar id PK "íšŒì› ì•„ì´ë””"
        varchar password "ë¹„ë°€ë²ˆí˜¸(ì•”í˜¸í™”)"
        varchar name "ì´ë¦„"
        varchar email "ì´ë©”ì¼"
        varchar role "ê¶Œí•œ(MEMBER/ADMIN)"
        varchar phone "ì „í™”ë²ˆí˜¸"
        datetime regdate "ê°€ì…ì¼"
    }
    
    BOARD {
        int seq PK "ê²Œì‹œê¸€ ë²ˆí˜¸(auto_increment)"
        varchar writer FK "ì‘ì„±ì ì•„ì´ë””"
        varchar title "ì œëª©"
        text content "ë‚´ìš©"
        int hit "ì¡°íšŒìˆ˜"
        datetime regdate "ì‘ì„±ì¼"
    }
```

### í…Œì´ë¸” ìƒì„± SQL

> [!NOTE]
> **í•™ìŠµìš© vs í†µí•© í”„ë¡œì íŠ¸ í…Œì´ë¸” êµ¬ì¡°**
> 
> **web-study-11 (í•™ìŠµìš© - ë…ë¦½í˜• ê²Œì‹œíŒ):**
> ```sql
> CREATE TABLE board (
>     num INT AUTO_INCREMENT PRIMARY KEY,
>     name VARCHAR(30),           -- ì‘ì„±ì ì´ë¦„ (ìˆ˜ë™ ì…ë ¥)
>     pass VARCHAR(30) NOT NULL,  -- ê²Œì‹œê¸€ ë¹„ë°€ë²ˆí˜¸
>     email VARCHAR(30),          -- ì´ë©”ì¼ (ìˆ˜ë™ ì…ë ¥)
>     title VARCHAR(50),
>     content VARCHAR(1000),
>     readcount INT DEFAULT 0,
>     writedate DATETIME DEFAULT CURRENT_TIMESTAMP
> );
> ```
> 
> **í†µí•© í”„ë¡œì íŠ¸ (íšŒì› ì—°ë™í˜•):**
> - `writer` í•„ë“œë¡œ ë³€ê²½: ë¡œê·¸ì¸í•œ íšŒì› ID ì €ì¥
> - `pass`, `name`, `email` í•„ë“œ ì œê±°: members í…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ì—¬ ì‚¬ìš©
> - ì„¸ì…˜ ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬ë¡œ ë¹„ë°€ë²ˆí˜¸ ë¶ˆí•„ìš”

```sql
-- íšŒì› í…Œì´ë¸”
CREATE TABLE members (
    id VARCHAR(50) PRIMARY KEY,
    password VARCHAR(100) NOT NULL,
    name VARCHAR(50) NOT NULL,
    email VARCHAR(100),
    role VARCHAR(20) DEFAULT 'MEMBER',  -- 'MEMBER' ë˜ëŠ” 'ADMIN'
    phone VARCHAR(20),
    regdate DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ê²Œì‹œíŒ í…Œì´ë¸” (í†µí•© í”„ë¡œì íŠ¸ìš© - íšŒì› ì—°ë™í˜•)
CREATE TABLE board (
    seq INT AUTO_INCREMENT PRIMARY KEY,
    writer VARCHAR(50) NOT NULL,
    title VARCHAR(200) NOT NULL,
    content TEXT NOT NULL,
    hit INT DEFAULT 0,
    regdate DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (writer) REFERENCES members(id) ON DELETE CASCADE
);

-- ê¸°ë³¸ ê´€ë¦¬ì ê³„ì • ìƒì„± (ê²Œì‹œíŒ ê´€ë¦¬ì)
INSERT INTO members (id, password, name, email, role) 
VALUES ('admin', 'admin1234', 'ê´€ë¦¬ì', 'admin@example.com', 'ADMIN');

-- í…ŒìŠ¤íŠ¸ ì¼ë°˜ íšŒì› ê³„ì •
INSERT INTO members (id, password, name, email, role) 
VALUES ('user1', '1234', 'í™ê¸¸ë™', 'user1@example.com', 'MEMBER');
```

### ğŸ¯ ê´€ë¦¬ìì™€ ì¼ë°˜ íšŒì›ì˜ ê²Œì‹œíŒ ê¶Œí•œ

| êµ¬ë¶„ | ë³¸ì¸ ê¸€ | íƒ€ì¸ ê¸€ | ë¹„ê³  |
|------|:------:|:------:|------|
| **ì¼ë°˜ íšŒì› (MEMBER)** | âœ… ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ | âš ï¸ ì¡°íšŒë§Œ ê°€ëŠ¥ | ìê¸°ê°€ ì‘ì„±í•œ ê¸€ë§Œ ê´€ë¦¬ |
| **ê´€ë¦¬ì (ADMIN)** | âœ… ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ | âœ… ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ | **ëª¨ë“  ê¸€ ê´€ë¦¬ ê¶Œí•œ** |

> [!TIP]
> **ê´€ë¦¬ìì˜ ê²Œì‹œíŒ ê´€ë¦¬ ê¸°ëŠ¥**
> - ë¶€ì ì ˆí•œ ê²Œì‹œê¸€ ì‚­ì œ
> - ì¤‘ìš” ê³µì§€ì‚¬í•­ ìˆ˜ì •
> - ì „ì²´ ê²Œì‹œê¸€ í†µê³„ í™•ì¸
> - íšŒì›ë³„ ê²Œì‹œ í™œë™ ëª¨ë‹ˆí„°ë§

---

## ğŸ”„ web-study-11ì—ì„œ íšŒì› ì—°ë™í˜•ìœ¼ë¡œ ì „í™˜í•˜ê¸°

> [!IMPORTANT]
> **í†µí•© í”„ë¡œì íŠ¸ í•µì‹¬ ë³€ê²½ì‚¬í•­**
> 
> web-study-11ì€ í•™ìŠµìš© ë…ë¦½í˜• ê²Œì‹œíŒ(ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜)ì´ì§€ë§Œ, 
> í†µí•© í”„ë¡œì íŠ¸ëŠ” **íšŒì› ì—°ë™í˜• ê²Œì‹œíŒ**(ì„¸ì…˜ ê¸°ë°˜)ìœ¼ë¡œ ì „í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

### ğŸ“Š ë³€ê²½ì‚¬í•­ ìš”ì•½

| í•­ëª© | web-study-11 (ë…ë¦½í˜•) | í†µí•© í”„ë¡œì íŠ¸ (íšŒì› ì—°ë™í˜•) |
|------|---------------------|------------------------|
| **ì‘ì„±ì í•„ë“œ** | `name VARCHAR(30)` - ìˆ˜ë™ ì…ë ¥ | `writer VARCHAR(50)` - ì„¸ì…˜ì—ì„œ ìë™ (FK) |
| **ë¹„ë°€ë²ˆí˜¸ í•„ë“œ** | `pass VARCHAR(30)` - í•„ìˆ˜ | âŒ ì œê±° (ì„¸ì…˜ìœ¼ë¡œ ê¶Œí•œ ê´€ë¦¬) |
| **ì´ë©”ì¼ í•„ë“œ** | `email VARCHAR(30)` - ìˆ˜ë™ ì…ë ¥ | âŒ ì œê±° (members ì¡°ì¸) |
| **í…Œì´ë¸” ì»¬ëŸ¼ëª…** | `num`, `readcount`, `writedate` | `seq`, `hit`, `regdate` |
| **ë¹„ë°€ë²ˆí˜¸ í™•ì¸** | `boardCheckPass.jsp` íŒì—… | âŒ ì œê±° (ì„¸ì…˜ í™•ì¸) |
| **ê¶Œí•œ ê´€ë¦¬** | ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ ì—¬ë¶€ | `userId == writer` ë˜ëŠ” `role == 'ADMIN'` |

### 1ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½

#### ê¸°ì¡´ web-study-11 í…Œì´ë¸”

```sql
CREATE TABLE board (
    num INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(30),           -- ì‘ì„±ì ì´ë¦„ (ìˆ˜ë™ ì…ë ¥)
    pass VARCHAR(30) NOT NULL,  -- ê²Œì‹œê¸€ ë¹„ë°€ë²ˆí˜¸
    email VARCHAR(30),          -- ì´ë©”ì¼ (ìˆ˜ë™ ì…ë ¥)
    title VARCHAR(50),
    content VARCHAR(1000),
    readcount INT DEFAULT 0,
    writedate DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### í†µí•© í”„ë¡œì íŠ¸ í…Œì´ë¸” (íšŒì› ì—°ë™í˜•)

```sql
CREATE TABLE board (
    seq INT AUTO_INCREMENT PRIMARY KEY,      -- num â†’ seq ë³€ê²½
    writer VARCHAR(50) NOT NULL,             -- name â†’ writer ë³€ê²½ (FK)
    title VARCHAR(200) NOT NULL,             -- ê¸¸ì´ 50 â†’ 200
    content TEXT NOT NULL,                   -- VARCHAR(1000) â†’ TEXT
    hit INT DEFAULT 0,                       -- readcount â†’ hit ë³€ê²½
    regdate DATETIME DEFAULT CURRENT_TIMESTAMP,  -- writedate â†’ regdate ë³€ê²½
    FOREIGN KEY (writer) REFERENCES members(id) ON DELETE CASCADE
);
```

**ì£¼ìš” ë³€ê²½ì :**
- âœ… `writer` í•„ë“œ ì¶”ê°€: íšŒì› ID (members í…Œì´ë¸” FK)
- âŒ `name`, `pass`, `email` í•„ë“œ ì œê±°
- âœ… Foreign Key ì œì•½ì¡°ê±´ ì¶”ê°€: íšŒì› íƒˆí‡´ ì‹œ ê²Œì‹œê¸€ ìë™ ì‚­ì œ

### 2ï¸âƒ£ BoardVO í´ë˜ìŠ¤ ìˆ˜ì •

**í†µí•© í”„ë¡œì íŠ¸ BoardVO:**

```java
public class BoardVO {
    private int seq;           // num â†’ seq
    private String writer;     // name â†’ writer (íšŒì› ID)
    private String title;
    private String content;
    private int hit;           // readcount â†’ hit
    private Timestamp regdate; // writedate â†’ regdate
    
    // pass, email í•„ë“œ ì œê±°
    
    // JOINìœ¼ë¡œ ê°€ì ¸ì˜¬ íšŒì› ì •ë³´ (ì„ì‹œ í•„ë“œ, í…Œì´ë¸” ì»¬ëŸ¼ ì•„ë‹˜)
    private String writerName;   // members.name
    private String writerEmail;  // members.email
    
    // getter/setter...
}
```

### 3ï¸âƒ£ JSP íŒŒì¼ ìˆ˜ì •

#### boardWrite.jsp ë³€ê²½

**í†µí•© í”„ë¡œì íŠ¸:**

```jsp
<%-- ë¡œê·¸ì¸ ì²´í¬ --%>
<%@ include file="../common/checkLogin.jsp" %>
<%
    String userId = (String) session.getAttribute("userId");
    String userName = (String) session.getAttribute("userName");
%>

<form name="frm" method="post" action="BoardServlet">
    <input type="hidden" name="command" value="board_write">
    <input type="hidden" name="writer" value="<%= userId %>">  <%-- ì„¸ì…˜ì—ì„œ ìë™ ì„¤ì • --%>
    
    <tr>
        <th>ì‘ì„±ì</th>
        <td><%= userName %> (ë¡œê·¸ì¸í•œ ì‚¬ìš©ì)</td>
    </tr>
    <%-- name, pass, email ì…ë ¥ë€ ì œê±° --%>
    <tr>
        <th>ì œëª©</th>
        <td><input type="text" size="70" name="title"> * í•„ìˆ˜</td>
    </tr>
    <tr>
        <th>ë‚´ìš©</th>
        <td><textarea cols="70" rows="15" name="content"></textarea></td>
    </tr>
</form>
```

#### boardView.jsp ë³€ê²½

**í†µí•© í”„ë¡œì íŠ¸:**

```jsp
<%
    String sessionUserId = (String) session.getAttribute("userId");
    String sessionUserRole = (String) session.getAttribute("userRole");
    
    // ê¶Œí•œ ì²´í¬: ì‘ì„±ì ë³¸ì¸ì´ê±°ë‚˜ ê´€ë¦¬ì
    boolean canEdit = sessionUserId.equals(board.getWriter()) || 
                      "ADMIN".equals(sessionUserRole);
%>

<tr>
    <th>ì‘ì„±ì</th>
    <td>${board.writerName}</td>  <%-- members í…Œì´ë¸” ì¡°ì¸ìœ¼ë¡œ ê°€ì ¸ì˜´ --%>
    <th>ì´ë©”ì¼</th>
    <td>${board.writerEmail}</td>
</tr>

<!-- ê¶Œí•œì´ ìˆì„ ë•Œë§Œ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ í‘œì‹œ -->
<% if(canEdit) { %>
    <input type="button" value="ê²Œì‹œê¸€ ìˆ˜ì •" 
        onclick="location.href='BoardServlet?command=board_update_form&seq=${board.seq}'">
    <input type="button" value="ê²Œì‹œê¸€ ì‚­ì œ"
        onclick="if(confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) location.href='BoardServlet?command=board_delete&seq=${board.seq}'">
<% } %>
```

#### ì‚­ì œí•  JSP íŒŒì¼

```bash
# ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ê´€ë ¨ íŒŒì¼ ì‚­ì œ
rm src/main/webapp/board/boardCheckPass.jsp
rm src/main/webapp/board/checkSuccess.jsp
```

### 4ï¸âƒ£ Action í´ë˜ìŠ¤ ìˆ˜ì •

#### BoardWriteAction ìˆ˜ì •

```java
public String execute(HttpServletRequest request, HttpServletResponse response) {
    // ì„¸ì…˜ì—ì„œ ë¡œê·¸ì¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    HttpSession session = request.getSession();
    String userId = (String) session.getAttribute("userId");
    
    // ë¡œê·¸ì¸ ì²´í¬
    if(userId == null) {
        return "redirect:../member/login.jsp";
    }
    
    String title = request.getParameter("title");
    String content = request.getParameter("content");
    
    BoardVO vo = new BoardVO();
    vo.setWriter(userId);  // ì„¸ì…˜ì—ì„œ ìë™ ì„¤ì •
    vo.setTitle(title);
    vo.setContent(content);
    
    BoardDAO dao = BoardDAO.getInstance();
    dao.insertBoard(vo);
    
    return "redirect:BoardServlet?command=board_list";
}
```

#### BoardUpdateAction, BoardDeleteAction ìˆ˜ì •

```java
public String execute(HttpServletRequest request, HttpServletResponse response) {
    // ì„¸ì…˜ì—ì„œ ë¡œê·¸ì¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    HttpSession session = request.getSession();
    String sessionUserId = (String) session.getAttribute("userId");
    String sessionUserRole = (String) session.getAttribute("userRole");
    
    int seq = Integer.parseInt(request.getParameter("seq"));
    
    // ê¸°ì¡´ ê²Œì‹œê¸€ ì¡°íšŒ
    BoardDAO dao = BoardDAO.getInstance();
    BoardVO board = dao.selectOneBySeq(seq);
    
    // ê¶Œí•œ ì²´í¬
    boolean canEdit = sessionUserId.equals(board.getWriter()) ||
                      "ADMIN".equals(sessionUserRole);
    
    if(!canEdit) {
        request.setAttribute("message", "ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.");
        return "board/boardList.jsp";
    }
    
    // ìˆ˜ì • ë˜ëŠ” ì‚­ì œ ì²˜ë¦¬...
}
```

#### ì‚­ì œí•  Action í´ë˜ìŠ¤

```java
// BoardCheckPassFormAction.java - ì‚­ì œ
// BoardCheckPassAction.java - ì‚­ì œ
```

### 5ï¸âƒ£ DAO ìˆ˜ì • (members ì¡°ì¸)

ê²Œì‹œê¸€ ì¡°íšŒ ì‹œ ì‘ì„±ì ì •ë³´ í•¨ê»˜ ê°€ì ¸ì˜¤ê¸°:

```java
public BoardVO selectOneBySeq(int seq) {
    String sql = "SELECT b.seq, b.writer, b.title, b.content, b.hit, b.regdate, " +
                 "       m.name AS writerName, m.email AS writerEmail " +
                 "FROM board b " +
                 "INNER JOIN members m ON b.writer = m.id " +
                 "WHERE b.seq = ?";
    
    // ResultSetì—ì„œ
    vo.setSeq(rs.getInt("seq"));
    vo.setWriter(rs.getString("writer"));
    vo.setTitle(rs.getString("title"));
    vo.setContent(rs.getString("content"));
    vo.setHit(rs.getInt("hit"));
    vo.setRegdate(rs.getTimestamp("regdate"));
    
    // JOINìœ¼ë¡œ ê°€ì ¸ì˜¨ íšŒì› ì •ë³´
    vo.setWriterName(rs.getString("writerName"));
    vo.setWriterEmail(rs.getString("writerEmail"));
    
    return vo;
}
```

### 6ï¸âƒ£ ActionFactory ìˆ˜ì •

```java
public Action getAction(String command) {
    Action action = null;
    
    if(command.equals("board_list")) {
        action = new BoardListAction();
    } else if(command.equals("board_write_form")) {
        action = new BoardWriteFormAction();
    } else if(command.equals("board_write")) {
        action = new BoardWriteAction();
    } else if(command.equals("board_view")) {
        action = new BoardViewAction();
    
    // âŒ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ê´€ë ¨ ì œê±°
    // } else if(command.equals("board_check_pass_form")) {
    //     action = new BoardCheckPassFormAction();
    // } else if(command.equals("board_check_pass")) {
    //     action = new BoardCheckPassAction();
    
    } else if(command.equals("board_update_form")) {
        action = new BoardUpdateFormAction();
    } else if(command.equals("board_update")) {
        action = new BoardUpdateAction();
    } else if(command.equals("board_delete")) {
        action = new BoardDeleteAction();
    }
    
    return action;
}
```

### 7ï¸âƒ£ ì „í™˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] **ë°ì´í„°ë² ì´ìŠ¤**
  - [ ] board í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ë³€ê²½ (writer ì¶”ê°€, name/pass/email ì œê±°)
  - [ ] Foreign Key ì œì•½ì¡°ê±´ ì¶”ê°€

- [ ] **Java í´ë˜ìŠ¤**
  - [ ] BoardVO í•„ë“œ ìˆ˜ì • (writer, seq, hit, regdateì¶”ê°€, writerName/writerEmail ì¶”ê°€)
  - [ ] BoardDAO JOIN ì¿¼ë¦¬ ì¶”ê°€
  - [ ] BoardWriteAction ì„¸ì…˜ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜ì •
  - [ ] BoardUpdateAction, BoardDeleteAction ê¶Œí•œ ì²´í¬ ë³€ê²½
  - [ ] BoardCheckPassFormAction, BoardCheckPassAction ì‚­ì œ
  - [ ] ActionFactory ìˆ˜ì •

- [ ] **JSP íŒŒì¼**
  - [ ] boardWrite.jsp ìˆ˜ì • (ë¡œê·¸ì¸ ì²´í¬, writer ìë™ ì„¤ì •)
  - [ ] boardView.jsp ìˆ˜ì • (ì„¸ì…˜ ê¶Œí•œ ì²´í¬)
  - [ ] boardUpdate.jsp ìˆ˜ì • (pass í•„ë“œ ì œê±°)
  - [ ] boardCheckPass.jsp, checkSuccess.jsp ì‚­ì œ

- [ ] **ê³µí†µ íŒŒì¼**
  - [ ] checkLogin.jsp ìƒì„± (ë¡œê·¸ì¸ ì²´í¬ ê³µí†µ íŒŒì¼)

### 8ï¸âƒ£ í†µí•© í”„ë¡œì íŠ¸ì˜ ì¥ì 

| ì¥ì  | ì„¤ëª… |
|------|------|
| âœ… **ë³´ì•ˆ ê°•í™”** | ë¹„ë°€ë²ˆí˜¸ ë…¸ì¶œ ìœ„í—˜ ì—†ìŒ (ì„¸ì…˜ ê¸°ë°˜) |
| âœ… **ì‚¬ìš©ì í¸ì˜ì„±** | ì‘ì„±ì ì •ë³´ ìë™ ì…ë ¥, ë¹„ë°€ë²ˆí˜¸ ê¸°ì–µ ë¶ˆí•„ìš” |
| âœ… **ë°ì´í„° ë¬´ê²°ì„±** | íšŒì› íƒˆí‡´ ì‹œ ê²Œì‹œê¸€ ìë™ ì‚­ì œ (CASCADE) |
| âœ… **ê´€ë¦¬ì ê¸°ëŠ¥** | ëª¨ë“  ê²Œì‹œê¸€ ê´€ë¦¬ ê¶Œí•œ |
| âœ… **íšŒì› ì¶”ì ** | íšŒì›ë³„ ê²Œì‹œ í™œë™ ëª¨ë‹ˆí„°ë§ ê°€ëŠ¥ |

---


## ğŸš€ ê°œë°œ ì „ëµ: ë¡œê·¸ì¸ ì—†ì´ ë³‘ë ¬ ê°œë°œí•˜ê¸°

> [!TIP]
> **ì‹¤ë¬´ íŒ: íŒ€ì›ë³„ ë³‘ë ¬ ê°œë°œ**
> 
> ë¡œê·¸ì¸ ë‹´ë‹¹ìì˜ ì‘ì—…ì´ ì™„ë£Œë˜ê¸° ì „ì—ë„ ê²Œì‹œíŒ ë‹´ë‹¹ìì™€ ê´€ë¦¬ì ë‹´ë‹¹ìëŠ” ê°œë°œì„ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

### ë¬¸ì œ ìƒí™© ğŸ¤”

```
íŒ€ì› A: ë¡œê·¸ì¸/íšŒì›ê°€ì… ê°œë°œ ì¤‘... (ì§„í–‰ë¥  30%)
íŒ€ì› B: ê²Œì‹œíŒ ê°œë°œ ì‹œì‘í•˜ê³  ì‹¶ì€ë°, ì„¸ì…˜ ì •ë³´ê°€ í•„ìš”í•¨!
íŒ€ì› C: ê´€ë¦¬ì í˜ì´ì§€ ê°œë°œ ì‹œì‘í•˜ê³  ì‹¶ì€ë°, ì„¸ì…˜ ì •ë³´ê°€ í•„ìš”í•¨!
```

**ë¬¸ì œ**: ê²Œì‹œíŒê³¼ ê´€ë¦¬ì í˜ì´ì§€ëŠ” ì„¸ì…˜ì˜ `userId`, `userRole` ì •ë³´ê°€ í•„ìš”í•œë°, ë¡œê·¸ì¸ì´ ì™„ì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

---

### í•´ê²°ì±… 1: ì„ì‹œ ì„¸ì…˜ ì„¤ì • í˜ì´ì§€ ë§Œë“¤ê¸° â­ (ì¶”ì²œ)

ê°œë°œ ë‹¨ê³„ì—ì„œë§Œ ì‚¬ìš©í•  **ì„ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€**ë¥¼ ë§Œë“­ë‹ˆë‹¤.

#### `test/testLogin.jsp` (ì„ì‹œ ê°œë°œìš©)

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
    <title>ì„ì‹œ ë¡œê·¸ì¸ (ê°œë°œìš©)</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .warning { background: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; margin-bottom: 20px; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; font-size: 16px; }
        .member { background: #28a745; color: white; }
        .admin { background: #dc3545; color: white; }
    </style>
</head>
<body>
    <div class="warning">
        <strong>âš ï¸ ê°œë°œ ì „ìš© í˜ì´ì§€</strong><br>
        ì´ í˜ì´ì§€ëŠ” ë¡œê·¸ì¸ ê¸°ëŠ¥ì´ ì™„ì„±ë˜ê¸° ì „ê¹Œì§€ë§Œ ì‚¬ìš©í•˜ëŠ” ì„ì‹œ í˜ì´ì§€ì…ë‹ˆë‹¤.<br>
        ì‹¤ì œ ë°°í¬ ì‹œ ë°˜ë“œì‹œ ì‚­ì œí•´ì•¼ í•©ë‹ˆë‹¤!
    </div>
    
    <h2>ì„ì‹œ ë¡œê·¸ì¸ (ê°œë°œ í…ŒìŠ¤íŠ¸ìš©)</h2>
    <p>ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì›í•˜ëŠ” ê¶Œí•œìœ¼ë¡œ ì„¸ì…˜ì„ ì„¤ì •í•˜ì„¸ìš”:</p>
    
    <!-- ì¼ë°˜ íšŒì›ìœ¼ë¡œ ë¡œê·¸ì¸ -->
    <form action="testLoginProcess.jsp" method="post">
        <input type="hidden" name="userId" value="user1">
        <input type="hidden" name="userName" value="í™ê¸¸ë™">
        <input type="hidden" name="userRole" value="MEMBER">
        <button type="submit" class="member">ì¼ë°˜ íšŒì›ìœ¼ë¡œ ì‹œì‘</button>
    </form>
    
    <!-- ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸ -->
    <form action="testLoginProcess.jsp" method="post">
        <input type="hidden" name="userId" value="admin">
        <input type="hidden" name="userName" value="ê´€ë¦¬ì">
        <input type="hidden" name="userRole" value="ADMIN">
        <button type="submit" class="admin">ê´€ë¦¬ìë¡œ ì‹œì‘</button>
    </form>
    
    <hr>
    <p>í˜„ì¬ ì„¸ì…˜ ì •ë³´:</p>
    <ul>
        <li>userId: <%= session.getAttribute("userId") %></li>
        <li>userName: <%= session.getAttribute("userName") %></li>
        <li>userRole: <%= session.getAttribute("userRole") %></li>
    </ul>
</body>
</html>
```

#### `test/testLoginProcess.jsp`

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%
    // í¼ì—ì„œ ë°›ì€ ë°ì´í„°ë¡œ ì„¸ì…˜ ì„¤ì •
    String userId = request.getParameter("userId");
    String userName = request.getParameter("userName");
    String userRole = request.getParameter("userRole");
    
    // ì„¸ì…˜ì— ì €ì¥ (ì‹¤ì œ ë¡œê·¸ì¸ê³¼ ë™ì¼í•œ ë°©ì‹)
    session.setAttribute("userId", userId);
    session.setAttribute("userName", userName);
    session.setAttribute("userRole", userRole);
    
    // ê¶Œí•œì— ë”°ë¼ ë¦¬ë‹¤ì´ë ‰ì…˜
    if("ADMIN".equals(userRole)) {
        response.sendRedirect("../admin/adminMain.jsp");
    } else {
        response.sendRedirect("../board/boardList.jsp");
    }
%>
```

#### ì‚¬ìš© ë°©ë²•

1. **ê²Œì‹œíŒ ê°œë°œì (íŒ€ì› B)**
   - `http://localhost:8080/í”„ë¡œì íŠ¸ëª…/test/testLogin.jsp` ì ‘ì†
   - "ì¼ë°˜ íšŒì›ìœ¼ë¡œ ì‹œì‘" í´ë¦­
   - â†’ ì„¸ì…˜ì´ ì„¤ì •ë˜ì–´ ê²Œì‹œíŒ ê°œë°œ ê°€ëŠ¥! âœ…

2. **ê´€ë¦¬ì í˜ì´ì§€ ê°œë°œì (íŒ€ì› C)**
   - `http://localhost:8080/í”„ë¡œì íŠ¸ëª…/test/testLogin.jsp` ì ‘ì†
   - "ê´€ë¦¬ìë¡œ ì‹œì‘" í´ë¦­
   - â†’ ì„¸ì…˜ì´ ì„¤ì •ë˜ì–´ ê´€ë¦¬ì í˜ì´ì§€ ê°œë°œ ê°€ëŠ¥! âœ…

---

### í•´ê²°ì±… 2: ì„¸ì…˜ ì²´í¬ ì„ì‹œ ë¹„í™œì„±í™”

ê°œë°œ ì¤‘ì—ëŠ” ë¡œê·¸ì¸ ì²´í¬ë¥¼ ì£¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

#### ì›ë˜ ì½”ë“œ (`board/boardList.jsp`)

```jsp
<%-- ë¡œê·¸ì¸ ì²´í¬ --%>
<%@ include file="../common/checkLogin.jsp" %>

<%
    String userId = (String) session.getAttribute("userId");
    String userRole = (String) session.getAttribute("userRole");
    // ... ê²Œì‹œíŒ ë¡œì§
%>
```

#### ê°œë°œ ë‹¨ê³„ ì„ì‹œ ì½”ë“œ

```jsp
<%-- TODO: ë¡œê·¸ì¸ ì™„ì„± í›„ ì£¼ì„ í•´ì œ! --%>
<%-- @ include file="../common/checkLogin.jsp" --%>

<%
    // ì„ì‹œ: ê°œë°œìš© ë”ë¯¸ ë°ì´í„°
    String userId = "user1";  // ì‹¤ì œ: (String) session.getAttribute("userId");
    String userRole = "MEMBER";  // ì‹¤ì œ: (String) session.getAttribute("userRole");
    
    // ... ê²Œì‹œíŒ ë¡œì§ (ë³€ê²½ ì—†ìŒ)
%>
```

> [!WARNING]
> **ì£¼ì˜ì‚¬í•­**
> - ì´ ë°©ë²•ì€ **ê°œë°œ ë‹¨ê³„ì—ì„œë§Œ** ì‚¬ìš©
> - ë¡œê·¸ì¸ ê¸°ëŠ¥ ì™„ì„± í›„ **ë°˜ë“œì‹œ ì›ë˜ëŒ€ë¡œ ë³µêµ¬**
> - Gitì— ì»¤ë°‹í•  ë•Œ ì£¼ì„ê³¼ TODOë¥¼ ëª…í™•íˆ ì‘ì„±

---

### í•´ê²°ì±… 3: ì¡°ê±´ë¶€ ê°œë°œ ëª¨ë“œ

í™˜ê²½ ë³€ìˆ˜ë¡œ ê°œë°œ ëª¨ë“œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

#### `common/devMode.jsp`

```jsp
<%!
    // ê°œë°œ ëª¨ë“œ ì„¤ì • (ë¡œê·¸ì¸ ì™„ì„± í›„ falseë¡œ ë³€ê²½)
    public static final boolean DEV_MODE = true;
    
    // ê°œë°œìš© ë”ë¯¸ ì„¸ì…˜ ì •ë³´
    public static final String DEV_USER_ID = "user1";
    public static final String DEV_USER_NAME = "í™ê¸¸ë™";
    public static final String DEV_USER_ROLE = "MEMBER";  // ë˜ëŠ” "ADMIN"
%>

<%
    String userId, userName, userRole;
    
    if(DEV_MODE) {
        // ê°œë°œ ëª¨ë“œ: ë”ë¯¸ ë°ì´í„° ì‚¬ìš©
        userId = DEV_USER_ID;
        userName = DEV_USER_NAME;
        userRole = DEV_USER_ROLE;
        
        // ê°œë°œ í¸ì˜ë¥¼ ìœ„í•´ ì„¸ì…˜ì—ë„ ì„¤ì •
        session.setAttribute("userId", userId);
        session.setAttribute("userName", userName);
        session.setAttribute("userRole", userRole);
    } else {
        // ì‹¤ì œ ëª¨ë“œ: ì„¸ì…˜ì—ì„œ ê°€ì ¸ì˜¤ê¸°
        userId = (String) session.getAttribute("userId");
        userName = (String) session.getAttribute("userName");
        userRole = (String) session.getAttribute("userRole");
        
        // ë¡œê·¸ì¸ ì²´í¬
        if(userId == null) {
            response.sendRedirect("../member/login.jsp");
            return;
        }
    }
%>
```

#### ì‚¬ìš© ì˜ˆì‹œ (`board/boardList.jsp`)

```jsp
<%@ include file="../common/devMode.jsp" %>

<%
    // userId, userName, userRole ë³€ìˆ˜ë¥¼ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥!
    out.println("í˜„ì¬ ì‚¬ìš©ì: " + userName + " (" + userId + ")");
    out.println("ê¶Œí•œ: " + userRole);
%>
```

---

### ğŸ“‹ íŒ€ë³„ ì—­í•  ë¶„ë‹´ ë° ê°œë°œ ìˆœì„œ

```mermaid
gantt
    title ë³‘ë ¬ ê°œë°œ íƒ€ì„ë¼ì¸
    dateFormat  YYYY-MM-DD
    section ì¤€ë¹„
    í”„ë¡œì íŠ¸ ì„¸íŒ… & DB ìƒì„±           :done, 2024-01-01, 1d
    ì„ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ ë§Œë“¤ê¸°         :done, 2024-01-02, 1d
    
    section íŒ€ì› A (íšŒì›)
    íšŒì›ê°€ì… ê°œë°œ                     :active, 2024-01-02, 3d
    ë¡œê·¸ì¸ ê°œë°œ                       :2024-01-05, 2d
    
    section íŒ€ì› B (ê²Œì‹œíŒ)
    ê²Œì‹œíŒ ëª©ë¡ ê°œë°œ                  :2024-01-03, 2d
    ê²Œì‹œê¸€ ì‘ì„± ê°œë°œ                  :2024-01-05, 2d
    
    section íŒ€ì› C (ê´€ë¦¬ì)
    ê´€ë¦¬ì ë©”ì¸ ê°œë°œ                  :2024-01-03, 2d
    ê²Œì‹œíŒ ê´€ë¦¬ ê°œë°œ                  :2024-01-05, 2d
    
    section í†µí•©
    ì„ì‹œ ë¡œê·¸ì¸ ì œê±° & ì‹¤ì œ ë¡œê·¸ì¸ ì—°ë™ :crit, 2024-01-07, 1d
```

### âœ… ê°œë°œ ì™„ë£Œ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸

ë¡œê·¸ì¸ ê¸°ëŠ¥ì´ ì™„ì„±ë˜ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•˜ì„¸ìš”:

- [ ] `test/` í´ë” ì „ì²´ ì‚­ì œ
- [ ] ëª¨ë“  JSPì—ì„œ ì„ì‹œ ì½”ë“œ ì œê±°
- [ ] `devMode.jsp`ì˜ `DEV_MODE`ë¥¼ `false`ë¡œ ë³€ê²½
- [ ] ì„¸ì…˜ ì²´í¬ ì£¼ì„ í•´ì œ
- [ ] ì „ì²´ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰
- [ ] Gitì—ì„œ ê°œë°œìš© íŒŒì¼ ì œê±°

---

##  í•µì‹¬ êµ¬í˜„ ê°€ì´ë“œ

### 1ï¸âƒ£ íšŒì›ê°€ì… (ì¼ë°˜íšŒì› vs ê´€ë¦¬ì)

íšŒì›ê°€ì… ì‹œ **ì¼ë°˜íšŒì›**ê³¼ **ê´€ë¦¬ì** ì¤‘ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìë¡œ ê°€ì…í•˜ë ¤ë©´ **ê´€ë¦¬ì ì¸ì¦ ì½”ë“œ**ê°€ í•„ìš”í•©ë‹ˆë‹¤.

#### íšŒì›ê°€ì… í¼ (`auth/join.jsp`)

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
    <title>íšŒì›ê°€ì…</title>
</head>
<body>
    <h2>íšŒì›ê°€ì…</h2>
    <form action="joinProcess.jsp" method="post" onsubmit="return validateForm()">
        <div>
            <label>ì•„ì´ë””:</label>
            <input type="text" name="id" id="id" required>
            <button type="button" onclick="checkDuplicate()">ì¤‘ë³µí™•ì¸</button>
        </div>
        
        <div>
            <label>ë¹„ë°€ë²ˆí˜¸:</label>
            <input type="password" name="password" required>
        </div>
        
        <div>
            <label>ì´ë¦„:</label>
            <input type="text" name="name" required>
        </div>
        
        <div>
            <label>ì´ë©”ì¼:</label>
            <input type="email" name="email">
        </div>
        
        <div>
            <label>íšŒì› ìœ í˜•:</label>
            <input type="radio" name="role" value="MEMBER" checked onchange="toggleAdminCode()"> ì¼ë°˜íšŒì›
            <input type="radio" name="role" value="ADMIN" onchange="toggleAdminCode()"> ê´€ë¦¬ì
        </div>
        
        <!-- ê´€ë¦¬ì ì¸ì¦ ì½”ë“œ ì…ë ¥ë€ (ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€) -->
        <div id="adminCodeDiv" style="display:none;">
            <label>ê´€ë¦¬ì ì¸ì¦ ì½”ë“œ:</label>
            <input type="password" name="adminCode" id="adminCode">
            <small style="color:red;">â€» ê´€ë¦¬ì ì¸ì¦ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</small>
        </div>
        
        <button type="submit">ê°€ì…í•˜ê¸°</button>
    </form>
    
    <script>
        // ê´€ë¦¬ì ì„ íƒ ì‹œ ì¸ì¦ ì½”ë“œ ì…ë ¥ë€ í‘œì‹œ
        function toggleAdminCode() {
            const role = document.querySelector('input[name="role"]:checked').value;
            const adminCodeDiv = document.getElementById('adminCodeDiv');
            const adminCodeInput = document.getElementById('adminCode');
            
            if(role === 'ADMIN') {
                adminCodeDiv.style.display = 'block';
                adminCodeInput.required = true;
            } else {
                adminCodeDiv.style.display = 'none';
                adminCodeInput.required = false;
                adminCodeInput.value = '';
            }
        }
        
        function validateForm() {
            const role = document.querySelector('input[name="role"]:checked').value;
            const adminCode = document.getElementById('adminCode').value;
            
            if(role === 'ADMIN' && !adminCode) {
                alert('ê´€ë¦¬ì ì¸ì¦ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return false;
            }
            return true;
        }
    </script>
</body>
</html>
```

#### íšŒì›ê°€ì… ì²˜ë¦¬ (`auth/joinProcess.jsp`)

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ page import="com.yourproject.dao.MemberDAO"%>
<%@ page import="com.yourproject.dto.MemberDTO"%>
<%
    request.setCharacterEncoding("UTF-8");
    
    // ê´€ë¦¬ì ì¸ì¦ ì½”ë“œ (ì‹¤ì œë¡œëŠ” ì„¤ì • íŒŒì¼ì´ë‚˜ DBì— ì €ì¥)
    final String ADMIN_SECRET_CODE = "admin2024!";
    
    // í¼ ë°ì´í„° ë°›ê¸°
    String id = request.getParameter("id");
    String password = request.getParameter("password");
    String name = request.getParameter("name");
    String email = request.getParameter("email");
    String role = request.getParameter("role");
    String adminCode = request.getParameter("adminCode");
    
    // ê´€ë¦¬ì ê°€ì… ì‹œ ì¸ì¦ ì½”ë“œ ê²€ì¦
    if("ADMIN".equals(role)) {
        if(adminCode == null || !adminCode.equals(ADMIN_SECRET_CODE)) {
            out.println("<script>");
            out.println("alert('ê´€ë¦¬ì ì¸ì¦ ì½”ë“œê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');");
            out.println("history.back();");
            out.println("</script>");
            return;
        }
    }
    
    // DTOì— ë°ì´í„° ë‹´ê¸°
    MemberDTO member = new MemberDTO();
    member.setId(id);
    member.setPassword(password);  // ì‹¤ì œë¡œëŠ” ì•”í˜¸í™” í•„ìš”
    member.setName(name);
    member.setEmail(email);
    member.setRole(role);
    
    // DAOë¥¼ í†µí•´ DBì— ì €ì¥
    MemberDAO dao = MemberDAO.getInstance();
    boolean success = dao.insertMember(member);
    
    if(success) {
        out.println("<script>");
        out.println("alert('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');");
        out.println("location.href='login.jsp';");
        out.println("</script>");
    } else {
        out.println("<script>");
        out.println("alert('íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');");
        out.println("history.back();");
        out.println("</script>");
    }
%>
```

> [!IMPORTANT]
> **ê´€ë¦¬ì ì¸ì¦ ì½”ë“œ ê´€ë¦¬**
> - ì˜ˆì œì—ì„œëŠ” í•˜ë“œì½”ë”©ë˜ì–´ ìˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” ì„¤ì • íŒŒì¼ì´ë‚˜ í™˜ê²½ ë³€ìˆ˜ì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.
> - ë³´ì•ˆì„ ìœ„í•´ ì •ê¸°ì ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
> - ì˜ˆì‹œ ì½”ë“œ: `admin2024!` (ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë” ë³µì¡í•œ ì½”ë“œ ì‚¬ìš©)

---

### 2ï¸âƒ£ ë¡œê·¸ì¸ ë° ê¶Œí•œë³„ ë¦¬ë‹¤ì´ë ‰ì…˜

ë¡œê·¸ì¸ ì„±ê³µ ì‹œ **ê¶Œí•œ(role)**ì— ë”°ë¼ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.

#### ë¡œê·¸ì¸ ì²˜ë¦¬ (`auth/loginProcess.jsp`)

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ page import="com.yourproject.dao.MemberDAO"%>
<%@ page import="com.yourproject.dto.MemberDTO"%>
<%
    request.setCharacterEncoding("UTF-8");
    
    String id = request.getParameter("id");
    String password = request.getParameter("password");
    
    // DAOë¥¼ í†µí•´ ë¡œê·¸ì¸ ê²€ì¦
    MemberDAO dao = MemberDAO.getInstance();
    MemberDTO member = dao.login(id, password);
    
    if(member != null) {
        // ë¡œê·¸ì¸ ì„±ê³µ - ì„¸ì…˜ ì„¤ì •
        session.setAttribute("userId", member.getId());
        session.setAttribute("userName", member.getName());
        session.setAttribute("userRole", member.getRole());  // "MEMBER" ë˜ëŠ” "ADMIN"
        
        // ê¶Œí•œë³„ ë¦¬ë‹¤ì´ë ‰ì…˜
        if("ADMIN".equals(member.getRole())) {
            // ê´€ë¦¬ì â†’ ê´€ë¦¬ì í˜ì´ì§€
            response.sendRedirect("../admin/main.jsp");
        } else {
            // ì¼ë°˜íšŒì› â†’ ê²Œì‹œíŒ
            response.sendRedirect("../board/boardList.jsp");
        }
    } else {
        // ë¡œê·¸ì¸ ì‹¤íŒ¨
        out.println("<script>");
        out.println("alert('ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');");
        out.println("history.back();");
        out.println("</script>");
    }
%>
```

#### ê¶Œí•œë³„ í˜ì´ì§€ ì ‘ê·¼ íë¦„

```mermaid
flowchart LR
    A[ë¡œê·¸ì¸ ì„±ê³µ] --> B{ê¶Œí•œ í™•ì¸}
    B -->|role = ADMIN| C[ê´€ë¦¬ì í˜ì´ì§€<br/>admin/main.jsp]
    B -->|role = MEMBER| D[ê²Œì‹œíŒ<br/>board/boardList.jsp]
    
    C --> E[ìƒí’ˆ ê´€ë¦¬]
    C --> F[íšŒì› ê´€ë¦¬]
    C --> G[ê²Œì‹œíŒ ê´€ë¦¬]
    
    D --> H[ê¸€ ì‘ì„±]
    D --> I[ë‚´ ê¸€ ë³´ê¸°]
    D --> J[ë§ˆì´í˜ì´ì§€]
    
    style B fill:#ffeb3b
    style C fill:#ffebee
    style D fill:#e8f5e9
```

---

### 3ï¸âƒ£ ê²Œì‹œíŒ ê¶Œí•œ ê´€ë¦¬

ê²Œì‹œíŒì—ì„œ **ìˆ˜ì •/ì‚­ì œ ê¶Œí•œ**ì€ ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•©ë‹ˆë‹¤:

| ê¶Œí•œ | ë³¸ì¸ ê¸€ | íƒ€ì¸ ê¸€ |
|------|:------:|:------:|
| **ì¼ë°˜íšŒì› (MEMBER)** | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ | âŒ ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€ |
| **ê´€ë¦¬ì (ADMIN)** | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ |

#### ê¶Œí•œ ì²´í¬ ê³µí†µ í•¨ìˆ˜ (`common/checkPermission.jsp`)

```jsp
<%!
// ê²Œì‹œê¸€ ìˆ˜ì •/ì‚­ì œ ê¶Œí•œ ì²´í¬ í•¨ìˆ˜
public boolean canEditPost(String sessionUserId, String sessionUserRole, String postWriter) {
    if(sessionUserId == null) {
        return false;  // ë¡œê·¸ì¸ ì•ˆ í•¨
    }
    
    // ê´€ë¦¬ìì´ê±°ë‚˜ ë³¸ì¸ì´ ì“´ ê¸€ì´ë©´ true
    return "ADMIN".equals(sessionUserRole) || sessionUserId.equals(postWriter);
}
%>
```

#### ê²Œì‹œê¸€ ëª©ë¡ì—ì„œ ë²„íŠ¼ í‘œì‹œ (`board/boardList.jsp`)

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ page import="java.util.List"%>
<%@ page import="com.yourproject.dao.BoardDAO"%>
<%@ page import="com.yourproject.dto.BoardDTO"%>
<%@ include file="../common/checkLogin.jsp" %>

<%
    // ì„¸ì…˜ì—ì„œ ë¡œê·¸ì¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    String sessionUserId = (String) session.getAttribute("userId");
    String sessionUserRole = (String) session.getAttribute("userRole");
    
    // ê²Œì‹œê¸€ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
    BoardDAO dao = BoardDAO.getInstance();
    List<BoardDTO> boardList = dao.selectAllBoards();
%>

<!DOCTYPE html>
<html>
<head>
    <title>ê²Œì‹œíŒ</title>
</head>
<body>
    <h2>ê²Œì‹œíŒ</h2>
    
    <% if("ADMIN".equals(sessionUserRole)) { %>
        <p style="color:red;">ğŸ”‘ ê´€ë¦¬ì ëª¨ë“œ: ëª¨ë“  ê¸€ì„ ìˆ˜ì •/ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
    <% } %>
    
    <table border="1">
        <thead>
            <tr>
                <th>ë²ˆí˜¸</th>
                <th>ì œëª©</th>
                <th>ì‘ì„±ì</th>
                <th>ì‘ì„±ì¼</th>
                <th>ê´€ë¦¬</th>
            </tr>
        </thead>
        <tbody>
            <%
                for(BoardDTO board : boardList) {
                    String writer = board.getWriter();
                    
                    // ê¶Œí•œ ì²´í¬: ìê¸° ê¸€ì´ê±°ë‚˜ ê´€ë¦¬ìë©´ true
                    boolean canEdit = "ADMIN".equals(sessionUserRole) || 
                                     sessionUserId.equals(writer);
            %>
            <tr>
                <td><%= board.getSeq() %></td>
                <td><a href="boardView.jsp?seq=<%= board.getSeq() %>"><%= board.getTitle() %></a></td>
                <td><%= writer %></td>
                <td><%= board.getRegdate() %></td>
                <td>
                    <% if(canEdit) { %>
                        <a href="boardUpdate.jsp?seq=<%= board.getSeq() %>">ìˆ˜ì •</a>
                        <a href="boardDelete.jsp?seq=<%= board.getSeq() %>" 
                           onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ì‚­ì œ</a>
                    <% } else { %>
                        <span style="color:#ccc;">-</span>
                    <% } %>
                </td>
            </tr>
            <% } %>
        </tbody>
    </table>
    
    <br>
    <a href="boardWrite.jsp">ê¸€ì“°ê¸°</a>
</body>
</html>
```

#### ìˆ˜ì •/ì‚­ì œ ì²˜ë¦¬ ì‹œ ì„œë²„ ì¸¡ ê¶Œí•œ ì¬í™•ì¸

> [!WARNING]
> **ë³´ì•ˆ ì¤‘ìš”**: í´ë¼ì´ì–¸íŠ¸(ë²„íŠ¼ ìˆ¨ê¹€)ë§Œìœ¼ë¡œëŠ” ë³´ì•ˆì´ ë³´ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
> ìˆ˜ì •/ì‚­ì œ ì²˜ë¦¬ ì‹œ **ì„œë²„ ì¸¡ì—ì„œ ë°˜ë“œì‹œ ê¶Œí•œì„ ì¬í™•ì¸**í•´ì•¼ í•©ë‹ˆë‹¤!

**ìˆ˜ì • ì²˜ë¦¬ ì˜ˆì‹œ** (`board/boardUpdateProcess.jsp`):

```jsp
<%
    // ì„¸ì…˜ ì •ë³´
    String sessionUserId = (String) session.getAttribute("userId");
    String sessionUserRole = (String) session.getAttribute("userRole");
    
    // ìˆ˜ì •í•  ê¸€ ë²ˆí˜¸
    int seq = Integer.parseInt(request.getParameter("seq"));
    
    // ê¸°ì¡´ ê²Œì‹œê¸€ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    BoardDAO dao = BoardDAO.getInstance();
    BoardDTO board = dao.selectBoard(seq);
    
    // ê¶Œí•œ ì²´í¬ (ì¤‘ìš”!)
    boolean canEdit = "ADMIN".equals(sessionUserRole) || 
                     sessionUserId.equals(board.getWriter());
    
    if(!canEdit) {
        out.println("<script>");
        out.println("alert('ìˆ˜ì • ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');");
        out.println("location.href='boardList.jsp';");
        out.println("</script>");
        return;
    }
    
    // ê¶Œí•œ í™•ì¸ í›„ ìˆ˜ì • ì²˜ë¦¬
    String title = request.getParameter("title");
    String content = request.getParameter("content");
    
    board.setTitle(title);
    board.setContent(content);
    dao.updateBoard(board);
    
    response.sendRedirect("boardList.jsp");
%>
```

---

## ï¿½ğŸ› ï¸ ê²Œì‹œíŒ êµ¬í˜„ ê°€ì´ë“œ

### 1. ë°ì´í„°ë² ì´ìŠ¤ (Board í…Œì´ë¸”)
ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.

```sql
CREATE TABLE board (
    num NUMBER PRIMARY KEY,          -- ê¸€ë²ˆí˜¸
    title VARCHAR2(100),             -- ì œëª©
    content VARCHAR2(1000),          -- ë‚´ìš©
    writer VARCHAR2(50),             -- ì‘ì„±ì (useridì™€ ì—°ê²°)
    regdate DATE DEFAULT SYSDATE     -- ì‘ì„±ì¼
);

CREATE SEQUENCE board_seq; -- ë²ˆí˜¸ ìë™ ìƒì„±ê¸°
```

**ì¤‘ìš”**: `writer` í•„ë“œëŠ” íšŒì› í…Œì´ë¸”ì˜ `userid`ì™€ ì—°ê²°ë©ë‹ˆë‹¤. ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ `userid`ë¥¼ ì €ì¥í•˜ì—¬ ê¶Œí•œ ì²´í¬ì— ì‚¬ìš©í•©ë‹ˆë‹¤.

### 2. íŒŒì¼ êµ¬ì¡° (ì˜ˆì‹œ)
```
src/main/java/
  â””â”€â”€ com/simple/
       â”œâ”€â”€ DBConn.java      -- DB ì—°ê²°
       â”œâ”€â”€ BoardVO.java     -- ë°ì´í„° ê°ì²´
       â””â”€â”€ BoardDAO.java    -- CRUD ê¸°ëŠ¥ (insert, update, delete, select)

src/main/webapp/
  â”œâ”€â”€ board/
  â”‚    â”œâ”€â”€ list.jsp         -- ëª©ë¡ í˜ì´ì§€
  â”‚    â”œâ”€â”€ write.jsp        -- ì‘ì„± í¼
  â”‚    â”œâ”€â”€ write_action.jsp -- ì‘ì„± ì²˜ë¦¬ (Java ì½”ë“œ)
  â”‚    â”œâ”€â”€ update.jsp       -- ìˆ˜ì • í¼
  â”‚    â”œâ”€â”€ update_action.jsp -- ìˆ˜ì • ì²˜ë¦¬
  â”‚    â””â”€â”€ delete_action.jsp -- ì‚­ì œ ì²˜ë¦¬
  â””â”€â”€ index.jsp             -- ë©”ì¸ (ëª©ë¡ìœ¼ë¡œ ì´ë™ ë§í¬)
```

### 3. í•µì‹¬ ë¡œì§ íŒíŠ¸

#### ğŸ” ê¶Œí•œ ì²´í¬ (ë§¤ìš° ì¤‘ìš”!)

**ëª¨ë“  ìˆ˜ì •/ì‚­ì œ ì‘ì—… ì „ì— ë°˜ë“œì‹œ ê¶Œí•œì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤!**

```jsp
<%-- JSPì—ì„œ ê¶Œí•œ ì²´í¬ ì˜ˆì‹œ --%>
<%
  // 1. ì„¸ì…˜ì—ì„œ ë¡œê·¸ì¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
  HttpSession session = request.getSession();
  MemberVO loginUser = (MemberVO) session.getAttribute("loginUser");
  
  // 2. ë¡œê·¸ì¸ ì•ˆ í–ˆìœ¼ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ
  if(loginUser == null) {
    response.sendRedirect("../member/login.jsp");
    return;
  }
  
  // 3. í˜„ì¬ ê¸€ì˜ ì‘ì„±ìì™€ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ë¹„êµ
  String loginUserId = loginUser.getUserid();  // ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ì•„ì´ë””
  String boardWriter = vo.getWriter();         // ê¸€ ì‘ì„±ì ì•„ì´ë””
  int admin = loginUser.getAdmin();            // ê´€ë¦¬ì ì—¬ë¶€ (0=ì¼ë°˜, 1=ê´€ë¦¬ì)
  
  // 4. ê¶Œí•œ ì²´í¬: ìì‹ ì˜ ê¸€ì´ê±°ë‚˜ ê´€ë¦¬ìì—¬ì•¼ í•¨
  boolean canEdit = loginUserId.equals(boardWriter) || admin == 1;
%>
```

**Java (Servlet/JSP)ì—ì„œ ê¶Œí•œ ì²´í¬ í•¨ìˆ˜ ì˜ˆì‹œ:**
```java
// ê¶Œí•œ ì²´í¬ ë©”ì„œë“œ (ê³µí†µìœ¼ë¡œ ì‚¬ìš©)
public boolean checkPermission(HttpServletRequest request, String boardWriter) {
    HttpSession session = request.getSession();
    MemberVO loginUser = (MemberVO) session.getAttribute("loginUser");
    
    // ë¡œê·¸ì¸ ì•ˆ í–ˆìœ¼ë©´ false
    if(loginUser == null) {
        return false;
    }
    
    String loginUserId = loginUser.getUserid();
    int admin = loginUser.getAdmin();
    
    // ìì‹ ì˜ ê¸€ì´ê±°ë‚˜ ê´€ë¦¬ìë©´ true
    return loginUserId.equals(boardWriter) || admin == 1;
}
```

---

#### ğŸ“ ê¸€ ì‘ì„± (Write)

**`write.jsp`**:
```jsp
<%-- ë¡œê·¸ì¸ ì²´í¬ --%>
<%
  HttpSession session = request.getSession();
  MemberVO loginUser = (MemberVO) session.getAttribute("loginUser");
  if(loginUser == null) {
    response.sendRedirect("../member/login.jsp");
    return;
  }
%>

<form action="write_action.jsp" method="post">
  <input type="hidden" name="writer" value="<%=loginUser.getUserid()%>">
  <input type="text" name="title" placeholder="ì œëª©">
  <textarea name="content" placeholder="ë‚´ìš©"></textarea>
  <input type="submit" value="ì‘ì„±">
</form>
```

**`write_action.jsp`**: 
```jsp
<%
  // 1. ë¡œê·¸ì¸ ì²´í¬
  HttpSession session = request.getSession();
  MemberVO loginUser = (MemberVO) session.getAttribute("loginUser");
  if(loginUser == null) {
    response.sendRedirect("../member/login.jsp");
    return;
  }
  
  // 2. í¼ ë°ì´í„° ë°›ê¸°
  String title = request.getParameter("title");
  String content = request.getParameter("content");
  String writer = loginUser.getUserid();  // ì„¸ì…˜ì—ì„œ ê°€ì ¸ì˜¤ê¸° (ë³´ì•ˆ!)
  
  // 3. BoardVOì— ë‹´ê¸°
  BoardVO vo = new BoardVO();
  vo.setTitle(title);
  vo.setContent(content);
  vo.setWriter(writer);
  
  // 4. DAOë¡œ ì €ì¥
  BoardDAO dao = BoardDAO.getInstance();
  dao.insertBoard(vo);
  
  // 5. ëª©ë¡ìœ¼ë¡œ ì´ë™
  response.sendRedirect("list.jsp");
%>
```

---

#### âœï¸ ê¸€ ìˆ˜ì • (Update)

**`list.jsp`ì—ì„œ ìˆ˜ì • ë²„íŠ¼ í‘œì‹œ:**
```jsp
<%-- ê° ê²Œì‹œê¸€ë§ˆë‹¤ ê¶Œí•œ ì²´í¬ í›„ ë²„íŠ¼ í‘œì‹œ --%>
<%
  String loginUserId = loginUser != null ? loginUser.getUserid() : "";
  int admin = loginUser != null ? loginUser.getAdmin() : 0;
  boolean canEdit = loginUserId.equals(vo.getWriter()) || admin == 1;
%>

<% if(canEdit) { %>
  <a href="update.jsp?num=<%=vo.getNum()%>">ìˆ˜ì •</a>
<% } %>
```

**`update.jsp`** (ìˆ˜ì • í¼):
```jsp
<%
  // 1. ë¡œê·¸ì¸ ì²´í¬
  HttpSession session = request.getSession();
  MemberVO loginUser = (MemberVO) session.getAttribute("loginUser");
  if(loginUser == null) {
    response.sendRedirect("../member/login.jsp");
    return;
  }
  
  // 2. ê¸€ë²ˆí˜¸ë¡œ ê²Œì‹œê¸€ ê°€ì ¸ì˜¤ê¸°
  int num = Integer.parseInt(request.getParameter("num"));
  BoardDAO dao = BoardDAO.getInstance();
  BoardVO vo = dao.selectBoard(num);
  
  // 3. ê¶Œí•œ ì²´í¬ (ì¤‘ìš”!)
  String loginUserId = loginUser.getUserid();
  int admin = loginUser.getAdmin();
  if(!loginUserId.equals(vo.getWriter()) && admin != 1) {
    // ê¶Œí•œ ì—†ìŒ!
    response.sendRedirect("list.jsp");
    return;
  }
%>

<form action="update_action.jsp" method="post">
  <input type="hidden" name="num" value="<%=vo.getNum()%>">
  <input type="text" name="title" value="<%=vo.getTitle()%>">
  <textarea name="content"><%=vo.getContent()%></textarea>
  <input type="submit" value="ìˆ˜ì •">
</form>
```

**`update_action.jsp`** (ìˆ˜ì • ì²˜ë¦¬):
```jsp
<%
  // 1. ë¡œê·¸ì¸ ì²´í¬
  HttpSession session = request.getSession();
  MemberVO loginUser = (MemberVO) session.getAttribute("loginUser");
  if(loginUser == null) {
    response.sendRedirect("../member/login.jsp");
    return;
  }
  
  // 2. í¼ ë°ì´í„° ë°›ê¸°
  int num = Integer.parseInt(request.getParameter("num"));
  String title = request.getParameter("title");
  String content = request.getParameter("content");
  
  // 3. ê¸°ì¡´ ê²Œì‹œê¸€ ê°€ì ¸ì˜¤ê¸° (ê¶Œí•œ ì²´í¬ìš©)
  BoardDAO dao = BoardDAO.getInstance();
  BoardVO vo = dao.selectBoard(num);
  
  // 4. ê¶Œí•œ ì²´í¬ (ì¤‘ìš”!)
  String loginUserId = loginUser.getUserid();
  int admin = loginUser.getAdmin();
  if(!loginUserId.equals(vo.getWriter()) && admin != 1) {
    // ê¶Œí•œ ì—†ìŒ!
    response.sendRedirect("list.jsp");
    return;
  }
  
  // 5. ìˆ˜ì • ë‚´ìš© ì €ì¥
  vo.setTitle(title);
  vo.setContent(content);
  dao.updateBoard(vo);
  
  // 6. ëª©ë¡ìœ¼ë¡œ ì´ë™
  response.sendRedirect("list.jsp");
%>
```

---

#### ğŸ—‘ï¸ ê¸€ ì‚­ì œ (Delete)

**`list.jsp`ì—ì„œ ì‚­ì œ ë²„íŠ¼ í‘œì‹œ:**
```jsp
<%-- ê° ê²Œì‹œê¸€ë§ˆë‹¤ ê¶Œí•œ ì²´í¬ í›„ ë²„íŠ¼ í‘œì‹œ --%>
<%
  String loginUserId = loginUser != null ? loginUser.getUserid() : "";
  int admin = loginUser != null ? loginUser.getAdmin() : 0;
  boolean canDelete = loginUserId.equals(vo.getWriter()) || admin == 1;
%>

<% if(canDelete) { %>
  <a href="delete_action.jsp?num=<%=vo.getNum()%>" 
     onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ì‚­ì œ</a>
<% } %>
```

**`delete_action.jsp`**:
```jsp
<%
  // 1. ë¡œê·¸ì¸ ì²´í¬
  HttpSession session = request.getSession();
  MemberVO loginUser = (MemberVO) session.getAttribute("loginUser");
  if(loginUser == null) {
    response.sendRedirect("../member/login.jsp");
    return;
  }
  
  // 2. ê¸€ë²ˆí˜¸ ë°›ê¸°
  int num = Integer.parseInt(request.getParameter("num"));
  
  // 3. ê¸°ì¡´ ê²Œì‹œê¸€ ê°€ì ¸ì˜¤ê¸° (ê¶Œí•œ ì²´í¬ìš©)
  BoardDAO dao = BoardDAO.getInstance();
  BoardVO vo = dao.selectBoard(num);
  
  // 4. ê¶Œí•œ ì²´í¬ (ì¤‘ìš”!)
  String loginUserId = loginUser.getUserid();
  int admin = loginUser.getAdmin();
  if(!loginUserId.equals(vo.getWriter()) && admin != 1) {
    // ê¶Œí•œ ì—†ìŒ!
    response.sendRedirect("list.jsp");
    return;
  }
  
  // 5. ì‚­ì œ ì‹¤í–‰
  dao.deleteBoard(num);
  
  // 6. ëª©ë¡ìœ¼ë¡œ ì´ë™
  response.sendRedirect("list.jsp");
%>
```

---

### 4. BoardDAO ë©”ì„œë“œ ì¶”ê°€

**`BoardDAO.java`ì— ì¶”ê°€í•  ë©”ì„œë“œë“¤:**

```java
// 1. íŠ¹ì • ê²Œì‹œê¸€ ì¡°íšŒ (ìˆ˜ì •/ì‚­ì œ ì „ì— í•„ìš”)
public BoardVO selectBoard(int num) {
    // SELECT * FROM board WHERE num = ?
    // ê²°ê³¼ë¥¼ BoardVOì— ë‹´ì•„ì„œ ë°˜í™˜
}

// 2. ê²Œì‹œê¸€ ìˆ˜ì •
public void updateBoard(BoardVO vo) {
    // UPDATE board SET title=?, content=? WHERE num=?
}

// 3. ê²Œì‹œê¸€ ì‚­ì œ
public void deleteBoard(int num) {
    // DELETE FROM board WHERE num=?
}

// 4. ê²Œì‹œê¸€ ì‘ì„±
public void insertBoard(BoardVO vo) {
    // INSERT INTO board (num, title, content, writer, regdate) 
    // VALUES (board_seq.NEXTVAL, ?, ?, ?, SYSDATE)
}
```

---

### 5. BoardVO í•„ë“œ ì¶”ê°€

**`BoardVO.java`ì— `writer` í•„ë“œ ì¶”ê°€:**

```java
public class BoardVO {
    private int num;
    private String title;
    private String content;
    private String writer;  // ì‘ì„±ì (userid)
    private Date regdate;
    
    // getter/setter ë©”ì„œë“œë“¤...
    public String getWriter() {
        return writer;
    }
    public void setWriter(String writer) {
        this.writer = writer;
    }
}
```

---

### 6. ê¶Œí•œ ê´€ë¦¬ ìš”ì•½

| ì‚¬ìš©ì ìœ í˜• | ìì‹ ì˜ ê¸€ | ë‹¤ë¥¸ ì‚¬ëŒì˜ ê¸€ |
|------------|---------|--------------|
| **ì¼ë°˜íšŒì›** (admin=0) | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ | âŒ ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€ |
| **ê´€ë¦¬ì** (admin=1) | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ |

**ì²´í¬ ë¡œì§:**
```java
boolean canEdit = (ë¡œê·¸ì¸í•œ ì‚¬ìš©ì == ê¸€ ì‘ì„±ì) || (ê´€ë¦¬ì ì—¬ë¶€ == 1);
```

**ì£¼ì˜ì‚¬í•­:**
- âŒ **ì ˆëŒ€ ì•ˆ ë˜ëŠ” ê²ƒ**: í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ì—ì„œë§Œ ê¶Œí•œ ì²´í¬
- âœ… **ë°˜ë“œì‹œ í•´ì•¼ í•  ê²ƒ**: ì„œë²„(JSP/Servlet)ì—ì„œ ê¶Œí•œ ì²´í¬
- ëª¨ë“  ìˆ˜ì •/ì‚­ì œ ì‘ì—… ì „ì— **ë°˜ë“œì‹œ** ê¶Œí•œì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤!
